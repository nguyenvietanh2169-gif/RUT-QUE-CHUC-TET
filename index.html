<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L·∫Øc Qu·∫ª ƒê·∫ßu NƒÉm 2026</title>
    <style>
        :root {
            --primary-red: #d32f2f;
            --gold: #ffd700;
        }
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(circle, #b30000, #660000);
            color: var(--gold);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            overflow: hidden;
        }

        h1 { font-size: 1.8rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 20px; z-index: 10; }

        #container { position: relative; width: 250px; height: 350px; cursor: pointer; z-index: 5; }

        #ong-que {
            width: 100%;
            transition: transform 0.1s;
            filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
        }

        .shaking { animation: shake 0.15s infinite; }

        @keyframes shake {
            0% { transform: translate(2px, 1px) rotate(0deg); }
            20% { transform: translate(-1px, -2px) rotate(-5deg); }
            40% { transform: translate(-3px, 0px) rotate(5deg); }
            60% { transform: translate(3px, 2px) rotate(0deg); }
            80% { transform: translate(1px, -1px) rotate(5deg); }
            100% { transform: translate(-1px, 2px) rotate(-5deg); }
        }

        #ket-qua {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            color: #b30000;
            padding: 30px;
            border-radius: 15px;
            border: 5px double #b30000;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            z-index: 100;
            width: 80%;
            max-width: 300px;
        }

        #loi-chuc { font-size: 1.4rem; font-weight: bold; line-height: 1.6; white-space: pre-line; margin: 20px 0; }

        .btn {
            background: var(--gold);
            color: #b30000;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: 0.3s;
        }
        .btn:hover { transform: scale(1.05); background: #fff; }

        .firework {
            position: absolute;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(20); opacity: 0; }
        }

        #instruction { margin-top: 15px; font-style: italic; opacity: 0.8; }
    </style>
</head>
<body>

    <h1>üßß XIN QU·∫∫ ƒê·∫¶U XU√ÇN üßß</h1>
    
    <div id="container">
        <img id="ong-que" src="https://i.imgur.com/8YlQk6l.png" alt="·ªêng qu·∫ª">
    </div>

    <p id="instruction">Nh·∫•n v√†o ·ªëng qu·∫ª ho·∫∑c l·∫Øc ƒëi·ªán tho·∫°i</p>
    <button id="start-btn" class="btn">B·∫ÆT ƒê·∫¶U NGAY</button>

    <div id="ket-qua">
        <p>‚ú® Qu·∫ª c·ªßa b·∫°n l√†: ‚ú®</p>
        <div id="loi-chuc"></div>
        <button id="btn-close" class="btn" style="font-size: 1rem; padding: 10px 20px;">R√∫t qu·∫ª kh√°c</button>
    </div>

    <audio id="sfx-shake" src="https://www.soundjay.com/misc/sounds/wooden-clatter-1.mp3" preload="auto"></audio>

    <script>
        const loiChucs = [
            "üßß L∆∞∆°ng tƒÉng nh∆∞ gi√° xƒÉng\nS·∫øp hi·ªÅn nh∆∞ √¥ng B·ª•t",
            "üå∏ ƒÇn kh√¥ng s·ª£ b√©o\nV√≠ kh√¥ng s·ª£ h√©o",
            "‚ú® Ng∆∞·ªùi ta ƒëi ch√∫c T·∫øt ƒë√¥i\nC√≤n t√¥i ch·ªâ mu·ªën... th√¥i ch√∫c g√¨!",
            "üí∞ V·∫°n s·ª± nh∆∞ √Ω - T·ª∑ s·ª± nh∆∞ m∆°\nTri·ªáu l·∫ßn kh√¥ng lag - Deadline kh√¥ng ch·ªù",
            "üî• KPI th√¨ √≠t\nTi·ªÅn t√≠ch l≈©y th√¨ nhi·ªÅu",
            "üéã B·∫Øc ƒê·∫©u ƒë√£ c√≥ Nam T√†o\nC√≤n b·∫°n ƒë√£ c√≥ bao nhi√™u l√¨ x√¨?",
            "üßß NƒÉm m·ªõi b·ªõt l·∫ßm l√¨\nCh·ªâ mong nhi·ªÅu l√¨ x√¨",
            "ü¶Ñ Facebook lu√¥n ƒë·∫ßy Like\nNgo√†i ƒë·ªùi lu√¥n ƒë·∫ßy L·ªôc"
        ];

        const startBtn = document.getElementById('start-btn');
        const ongQue = document.getElementById('ong-que');
        const ketQua = document.getElementById('ket-qua');
        const txtLoiChuc = document.getElementById('loi-chuc');
        const btnClose = document.getElementById('btn-close');
        const sfxShake = document.getElementById('sfx-shake');

        let isShaking = false;
        let lastX = 0, lastY = 0, lastZ = 0;

        // X·ª≠ l√Ω khi nh·∫•n n√∫t b·∫Øt ƒë·∫ßu (Y√™u c·∫ßu quy·ªÅn tr√™n iOS)
        startBtn.onclick = function() {
            if (typeof DeviceMotionEvent !== 'undefined' && typeof DeviceMotionEvent.requestPermission === 'function') {
                DeviceMotionEvent.requestPermission()
                    .then(state => {
                        if (state === 'granted') initSensor();
                    })
                    .catch(console.error);
            } else {
                initSensor();
            }
            startBtn.style.display = 'none';
        };

        // H√†m th·ª±c hi·ªán h√†nh ƒë·ªông l·∫Øc
        function performShake() {
            if (isShaking) return;
            isShaking = true;
            
            // Ch·∫°y √¢m thanh v√† rung
            sfxShake.currentTime = 0;
            sfxShake.play();
            ongQue.classList.add('shaking');
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);

            setTimeout(() => {
                ongQue.classList.remove('shaking');
                showResult();
            }, 1200);
        }

        // Click chu·ªôt (D√†nh cho PC ho·∫∑c khi kh√¥ng mu·ªën l·∫Øc)
        document.getElementById('container').onclick = performShake;

        function initSensor() {
            let threshold = 15; 
            window.addEventListener('devicemotion', (e) => {
                let acc = e.accelerationIncludingGravity;
                if (!acc.x) return;

                let diff = Math.abs(acc.x + acc.y + acc.z - lastX - lastY - lastZ);
                if (diff > threshold) {
                    performShake();
                }
                lastX = acc.x; lastY = acc.y; lastZ = acc.z;
            });
        }

        function showResult() {
            const randomMsg = loiChucs[Math.floor(Math.random() * loiChucs.length)];
            txtLoiChuc.innerText = randomMsg;
            ketQua.style.display = 'block';
            createFireworks();
        }

        function createFireworks() {
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const fw = document.createElement('div');
                    fw.className = 'firework';
                    fw.style.left = Math.random() * 100 + 'vw';
                    fw.style.top = Math.random() * 100 + 'vh';
                    fw.style.backgroundColor = ['#ffd700', '#ff4444', '#ffffff', '#ffeb3b'][Math.floor(Math.random() * 4)];
                    document.body.appendChild(fw);
                    setTimeout(() => fw.remove(), 1000);
                }, i * 100);
            }
        }

        btnClose.onclick = () => {
            ketQua.style.display = 'none';
            isShaking = false;
        };
    </script>
</body>
</html>
